<app-leaflet-map lat="13" lng="122" zoom="6" #leaflet>
    <router-outlet></router-outlet>

    <div class="control-wrapper control-wrapper--left pull-left" map-control>
        <app-map-type #suitabilityMap>
            <app-leaflet-button
                controlClass="map__control--map-data-type map__control--suitability-map"
                btnTooltip="Suitability Maps"
                btnTooltipPosition="right"
                (buttonClick)="suitabilityMap.togglePanel($event)"
                map-type-button>

                <i class="glyphicon glyphicon-grain"></i>
            </app-leaflet-button>

            <app-suitability-map-panel (panelIconClick)="suitabilityMap.togglePanel($event)" map-type-panel #panel>
            </app-suitability-map-panel>
        </app-map-type>

        <app-map-type #cropProductionArea>
            <app-leaflet-button
                controlClass="map__control--map-data-type map__control--crop-production-area"
                btnTooltip="Crop Production Area"
                btnTooltipPosition="right"
                (buttonClick)="cropProductionArea.togglePanel($event)"
                map-type-button>

                <i class="glyphicon glyphicon-leaf"></i>
            </app-leaflet-button>

            <app-crop-production-area-panel (panelIconClick)="cropProductionArea.togglePanel($event)" map-type-panel #panel>
            </app-crop-production-area-panel>
        </app-map-type>

        <app-map-type #ndvi>
            <app-leaflet-button
                controlClass="map__control--map-data-type map__control--ndvi"
                btnTooltip="Normalized Difference Vegetation Index (NDVI)"
                btnTooltipPosition="right"
                (buttonClick)="ndvi.togglePanel($event)"
                map-type-button>

                <i class="glyphicon glyphicon-cloud"></i>
            </app-leaflet-button>

            <app-ndvi-panel (panelIconClick)="ndvi.togglePanel($event)" map-type-panel #panel>
            </app-ndvi-panel>
        </app-map-type>

        <app-map-type #rainfallMap>
            <app-leaflet-button
                controlClass="map__control--map-data-type map__control--rainfall-map"
                btnTooltip="Rainfall Map"
                btnTooltipPosition="right"
                (buttonClick)="rainfallMap.togglePanel($event)"
                map-type-button>

                <i class="glyphicon glyphicon-tint"></i>
            </app-leaflet-button>

            <app-rainfall-map-panel (panelIconClick)="rainfallMap.togglePanel($event)" map-type-panel #panel>
            </app-rainfall-map-panel>
        </app-map-type>
    </div>

    <div class="control-wrapper control-wrapper--right pull-right" map-control>
        <app-leaflet-tile-selector></app-leaflet-tile-selector>
        <app-leaflet-geocoder></app-leaflet-geocoder>
        <app-leaflet-zoom></app-leaflet-zoom>
        <app-leaflet-measure></app-leaflet-measure>
    </div>

    <div class="control-wrapper control-wrapper--social" map-control>
        <ul class="list list-unstyled">
            <li class="list__item">
                <a href="http://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=http://sarai.ph/"
                    class="btn btn--dome btn--facebook"
                    tooltip="Share on Facebook"
                    tooltipPlacement="left"
                    (click)="openNewWindow($event, 'shareOnFacebook', 'toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250')">
                    <i class="social-icon social-icon--facebook"></i>
                </a>
            </li>

            <li class="list__item">
                <a href="https://twitter.com/intent/tweet/?text=Check this out! http://sarai.ph/ %23ProjectSARAI"
                    class="btn btn--dome btn--twitter"
                    tooltip="Share on Twitter"
                    tooltipPlacement="left"
                    (click)="openNewWindow($event, 'shareOnTwitter', 'toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250')">
                    <i class="social-icon social-icon--twitter"></i>
                </a>
            </li>
        </ul>
    </div>

    <div class="control-wrapper control-wrapper--interface-controls" map-control>
        <ul class="list list-unstyled">
            <li class="list__item">
                <a href="#"
                    class="btn btn--dome btn--translate"
                    tooltip="Translate to Filipino"
                    tooltipPlacement="left">
                    <i class="interface-control-icon interface-control-icon--translate"></i>
                </a>
            </li>

            <li class="list__item">
                <a href="#"
                    class="btn btn--dome btn--download-map-image"
                    tooltip="Download Map Images"
                    tooltipPlacement="left"
                    (click)="$event.preventDefault(); imageDownloadSidebar.toggle()">

                    <i class="interface-control-icon interface-control-icon--pdf"></i>
                </a>
            </li>

            <li class="list__item">
                <a href="#"
                    class="btn btn--dome btn--watch-videos"
                    tooltip="Watch Introductory Videos"
                    tooltipPlacement="left"
                    (click)="$event.preventDefault(); videoSidebar.toggle()">

                    <i class="interface-control-icon interface-control-icon--video"></i>
                </a>

                <app-leaflet-sidebar containerClass="leaflet-sidebar--sarai-1" #videoSidebar>
                    <header class="sidebar__title-wrapper" sidebar-title>
                        <img src="/assets/img/ui/sarai-logo-complete.png" alt="Project SARAI" class="img-responsive" />

                        <h2 class="title">Watch Introductory Videos</h2>
                    </header>

                    <div sidebar-content>
                        <section class="group">
                            <h3 class="group__title title">English Version</h3>

                            <div class="aspect aspect-ratio-16x9">
                                <div class="aspect__inner">
                                    <video id="introductory-video-english"
                                        class="introductory-video-english introductory-video video-responsive aspect__media-content"
                                        width="1920"
                                        height="1080"
                                        controls>
                                        <source type="video/webm" src="/assets/videos/introductory-videos/english/maps.webm">
                                        <source type="video/mp4" src="/assets/videos/introductory-videos/english/maps.mp4">
                                        <source type="video/ogg" src="/assets/videos/introductory-videos/english/maps.ogv">
                                    </video>
                                </div>
                            </div>
                        </section>

                        <section class="group">
                            <h3 class="group__title title">Filipino Version</h3>

                            <div class="aspect aspect-ratio-16x9">
                                <div class="aspect__inner">
                                    <video id="introductory-video-filipino"
                                        class="introductory-video-filipino introductory-video video-responsive aspect__media-content"
                                        width="1920"
                                        height="1080"
                                        controls>
                                        <source type="video/webm" src="/assets/videos/introductory-videos/filipino/maps.webm">
                                        <source type="video/mp4" src="/assets/videos/introductory-videos/filipino/maps.mp4">
                                        <source type="video/ogg" src="/assets/videos/introductory-videos/filipino/maps.ogv">
                                    </video>
                                </div>
                            </div>
                        </section>
                    </div>
                </app-leaflet-sidebar>
            </li>
        </ul>
    </div>

    <app-leaflet-sidebar containerClass="leaflet-sidebar--sarai-1 download-image-form-wrapper" #imageDownloadSidebar>
        <header class="sidebar__title-wrapper" sidebar-title>
            <img src="/assets/img/ui/sarai-logo-complete.png" alt="Project SARAI" class="img-responsive" />

            <h2 class="title">Download Image</h2>
        </header>

        <div class="sidebar__content" sidebar-content>
            <app-download-image-form></app-download-image-form>
        </div>
    </app-leaflet-sidebar>

    <app-leaflet-opacity-slider [opacity]="layersOpacity" map-control></app-leaflet-opacity-slider>
</app-leaflet-map>


